## 接口

### 一、简介

#### 1.1 接口是什么

接口是前后端通信的桥梁；

简单理解：一个接口就是服务器中的一个路由规则，根据请求响应结果

#### 1.2 接口的作用

实现==前后端通信==

#### 1.3 接口的开发与调用

大多数接口是由后端工程师开发的，开发语言不限。

#### 1.4 接口的组成

一个接口一般由如下构成：

- 接口地址
- 请求方式
- 请求参数
- 响应结果

### 二、RESTful API

一种特殊风格的接口，主要特点为：

- URL中的路径表示资源，路径中不能有动词；
- 操作资源要与HTTP请求方法对应
- 操作结果要与HTTP响应状态码对应

### 三、json-server

json-server是一个js编写的工具包，可以快速搭建RESTful API服务

1.安装



2.创建JSON文件(db.json),编写基本结构

```json
{
  "songs": [
    { "id": 1, "name": "干杯", "singer": "五月天" },
    { "id": 2, "name": "当", "singer": "动力火车" },
    { "id": 3, "name": "花海", "singer": "周杰伦" }
  ],
  "users": []
}
```

3.以json文件所在文件夹为工作目录，执行如下命令：

```javascript
json-server --watch fileName.json
```

### 四、会话控制

#### 1.会话控制

所谓会话控制就是对会话进行控制。

HTTP是一种==无状态的协议==，他没有办法区分多次的请求是否来自于同一个客户端，无法区分用户。

而产品中大量存在这样的需求，所以我们需要通过会话控制来解决该问题。

常见的会话控制技术有三种：

- cookie
- session
- token

#### 2.cookie的介绍

cookie是HTTP服务器发送到用户浏览器并保存在本地的一小块数据；

cookie是保存在浏览器端的一小块数据；

cookie是按照域名划分保存的

简单示例：

| 域名             | cookie                       |
| ---------------- | ---------------------------- |
| www.baidu.com    | a=100;b=200                  |
| www.bilibili.com | xid=1020abce121;hm=112411213 |
| jd.com           | x=100;ocw=12414cce           |

在请求报文中携带cookie信息

##### cookie的运行流程

==填写账号和密码校验身份，校验通过后服务器下发cookie==；

响应报文：set-cookie:内容；

浏览器解析响应报文时看到set-cookie字段，便会将其保存在浏览器中，有了cookie之后，后续向服务器发送请求时，便会自动携带cookie

##### 浏览器操作cookie

在浏览器设置中进行操作

- 禁用cookie
- 删除cookie
- 查看cookie：新版chrome浏览器无法查看cookie

不同浏览器间的cookie是共享的

#### 3. session介绍

##### 3.1 session是什么

session是保**存在服务器端的一块儿数据，保存当前访问用户的相关信息**

##### 3.2 session作用

实现会话控制，可以识别用户身份，快速获取当前用户的相关信息

##### 3.3 session运行流程

填写账号和密码校验身份，校验通过后创建session信息，然后将session_id的值通过响应头返回给浏览器；

有了cookie，下次发送请求时会自动携带cookie，服务器通过cookie中的session_id的值确定用户身份

##### 3.4 session的代码操作

  

